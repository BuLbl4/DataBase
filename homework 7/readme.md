# Лабораторная  работа №7


## Реализация проекта на основе EAV и temporal модели
### EAV-модель для "Маршруты" и "Водители"

### Таблицы и их атрибуты:

#### Entities (Сущности)

entity_id: Уникальный идентификатор сущности.<br>
entity_type: Тип сущности (например, "Route" или "Driver").<br>

#### Attributes (Атрибуты)

attribute_id: Уникальный идентификатор атрибута.<br>
attribute_name: Название атрибута.<br>
entity_type: Тип сущности, к которому относится атрибут.<br>

#### EntityAttributeValue (Значения)

entity_id: Идентификатор сущности.<br>
attribute_id: Идентификатор атрибута.<br>
value: Значение атрибута.<br>
#### Пример данных:

Сущность "Маршрут" может иметь атрибуты route_name, distance, days_on_way.<br>
Сущность "Водитель" может иметь атрибуты last_name, first_name, driving_experience.<br>
### Temporal-модель для "Выполненная работа"
#### Таблица и её атрибуты:

#### Work_done (Выполненная работа)
route_id: Идентификатор маршрута (внешний ключ к таблице Routes).<br>
driver_id: Идентификатор водителя (внешний ключ к таблице Drivers).<br>
departure_date: Дата отправления.<br>
return_date: Дата возвращения.<br>
bonus: Бонус за выполненную работу.<br>
valid_start: Дата начала действия записи.<br>
valid_end: Дата окончания действия записи.<br>
#### Пример данных:

Для отслеживания истории изменений данных о выполненной работе каждая запись будет иметь временные границы, что позволит сохранить историю изменений.

## Итоговая схема базы данных
### Entities (Сущности)

entity_id (ключевой атрибут)<br>
entity_type<br>
### Attributes (Атрибуты)<br>
attribute_id (ключевой атрибут)<br>
attribute_name<br>
entity_type<br>
### EntityAttributeValue (Значения)

entity_id (часть составного ключа)<br>
attribute_id (часть составного ключа)<br>
value<br>
### Work_done (Выполненная работа)

route_id (часть составного ключа)<br>
driver_id (часть составного ключа)<br>
departure_date (часть составного ключа)<br>
return_date<br>
bonus<br>
valid_start (часть составного ключа)<br>
valid_end<br>

#### Ключевые атрибуты в итоговой схеме
Entities: entity_id<br>
Attributes: attribute_id<br>
EntityAttributeValue: (entity_id, attribute_id)<br>
Work_done: (route_id, driver_id, departure_date, valid_start)<br>
#### Преимущества и недостатки выбранных моделей
EAV-модель:

Преимущества:

Гибкость в добавлении новых атрибутов.<br>
Подходит для разреженных данных, где не все сущности имеют одинаковый набор атрибутов.<br><br>
Недостатки:

Сложные запросы и более медленная производительность.<br>
Трудности с валидацией и поддержкой целостности данных.<br>
Temporal-модель:

Преимущества:

Возможность отслеживания и анализа исторических данных.<br>
Полезна для аудита и восстановления данных на любой момент времени.<br><br>
Недостатки:

Увеличение объема данных.<br>
Усложнение схемы базы данных и логики работы с данными.<br>
Эти модели обеспечат гибкость и возможность отслеживания изменений данных, что может быть полезно для вашего проекта.